<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">

    <title>Evolution2020 - AlphaApp</title>
    
    <link rel="stylesheet" type="text/css" href="./styles/custom.css">
    <script src="./scripts/json.js"></script>
    <script src="./scripts/map.js"></script>
    <script src="./scripts/objects.js"></script>
    <script src="./scripts/characters.js"></script>
    <script src="./scripts/engine.js"></script>
    <script src="./scripts/debug.js"></script>
    <script>
    // TODO: Firefox has a security flaw - https://www.w3.org/TR/CSP/ (reference to error)
    var map, lead, circle, leadChar;
    var score, power, labelIndex = 0;
    var markers = [];
    var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    var currentCoordinates = {lat: 33.678, lng: -116.243};
    var mouseClickStartStop = 1;
    var iconBase = "./images/"

    // Load static object Data
    var json = objJson.jsonDb();

    function initMap() {

        // Generate Map, Characters & Objects
        maps.generateCustomMap();
        leadChar = characters.generateMainCharacter();
     // Generate Random Objects
      var generateObjects = setInterval(myTimer, 3000);
      function myTimer() { objectGenerator.ObjMarkers(currentCoordinates); }

      // Removes all Random objects from map at one go-- every 'n' milli seconds
      var removeObjects = setInterval(myTimerDel, 50000);
      function myTimerDel() { objectGenerator.deleteMarkers(); }

        gameEngine.clickMonitor();

        // Add Menu Button
        gameEngine.menuButton(currentCoordinates);
    }

    </script>
  </head>
  <body>
    <div id="map"></div>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCptCv0cVk7cSFAaTn-kYpxEShFD6OVjSk&callback=initMap&libraries=geometry">
    </script>

  </body>
</html>
